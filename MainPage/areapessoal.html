<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Área Pessoal - CorSano@UA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- AOS Animations -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/Features-Centered-Icons-icons.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .carousel-item img {
            height: 700px; /* Define a altura fixa */
            object-fit: cover; /* Mantém a proporção da imagem */
        }
        .rounded-border {
            border: 2px solid #80ba00;
            border-radius: 15px;
            padding: 10px;
            display: inline-block;
            background-color: #80ba00;
            width: 100px;
            height: 100px;
            align-items: center;
            vertical-align: center;
            display: flex;
            justify-content: center;
            margin: 0 auto;

        }
        .icon-container .fa-solid {
            color: white;
            text-align: center;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg " style="background-color: #80ba00">
    <div class="container-fluid">
        <a class="navbar-brand" href="index.html"><img src="imagens/LogoCorSano_white.svg" height="50px" width="auto"><img src="imagens/Marca%20UA%20Complementar%20BRANCO.png" height="50px" width="auto"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarText">
            <ul class="navbar-nav mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="alimentacao.html">Alimentação</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="Aulas.html">Aulas</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="Instalacoes.html">O Campus</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="progresso.html">O meu progresso</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="recompensas.html">Recompensas</a>
                </li>
            </ul>
            <a class="btn btn-light" role="button" style="color:black !important;" href="signup.html">Área Pessoal</a>
        </div>
    </div>
</nav>

<div class="container text-center">
    <div class="row">
        <h1>Área Pessoal</h1>
    </div>
    <div class="row text-start">
        <h3>Olá, Claúdio!</h3>
        <p>Bem-vindo de volta!</p>
    </div>
    <div class="row text-start">

    <div class="col-md-6 mx-auto">
    <h3 class="text-center">Recompensas e Objetivos</h3>
    <img src="imagens/TresDe.jpeg" height="auto" width="50%" class="mx-auto d-block">
        <strong>Barra de progresso</strong>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar" style="width: 50%; background-color: #80ba00; color: white; text-align: center;">0%</div>
        </div>
        <div class="reward">
            <p>Recompensa: Refeição no TrêsDe</p>
        </div>
        <strong>Os meus objetivos:</strong>
        <ul id="objectivesList" style="list-style-type: none;"></ul>
        <div class="d-flex justify-content-center">
            <button class="btn btn-success" onclick="window.location.href='recompensas.html'">Ver mais</button>
        </div>
    </div>


        <div class="col-md-6 mx-auto">
            <h3 class="text-center">Progresso</h3>
            <table>
                <thead>
                <tr>
                    <th>Última atividade:</th>
                    <th>Última atividade na UA:</th>
                    <th>Próxima marcação</th>
                </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Caminhar ao almoço</td>
                        <td id="ultimaAtividade"></td>
                        <td id="ProximaMarcação"></td>
                    </tr>
                    <tr>
                        <th>Peso</th>
                    </tr>
                    <tr>
                        <td id="peso"></td>
                    </tr>
                    <tr>
                        <th>Altura</th>
                    </tr>
                    <tr>
                        <td id="altura"></td>
                    </tr>
                    <tr>
                        <th>Gordura Corporal</th>
                    </tr>
                    <tr>
                        <td id="gorduraCorporal"></td>
                    </tr>
                </tbody>
            </table>
            <div class="d-flex justify-content-center">
                <button class="btn btn-success" onclick="window.location.href='progresso.html'">Ver mais</button>
            </div>
        </div>
        </div>
</div>
<div class="container-fluid bg-black text-white" data-aos="fade-up">
    <div class="row mb-5">
        <div class="col-md-4">
            <br>
            <h6 data-aos="fade-up">Informações</h6>
            <p data-aos="fade-up">A CorSano@UA é uma aplicação não oficial, sendo apenas um projeto da unidade curricular de Modelação e Análise de Sistemas. Qualquer informação é fictícia e irrelevante.</p>
            <p data-aos="fade-up">Este foi realizado por:</p>
            <p data-aos="fade-up">Martim Gil - 124833</p>
            <p data-aos="fade-up">Alan Marques - 125046</p>
            <p data-aos="fade-up">Daniel Duque - 124880</p>
            <p data-aos="fade-up">Tiago Oliveira - 125155</p>
        </div>
        <div class="col-md-4">
            <br>
            <h6 data-aos="fade-up">Contactos</h6>
            <p data-aos="fade-up">Universidade de Aveiro</p>
            <p data-aos="fade-up">Campos Universitário de Santiago</p>
            <p data-aos="fade-up">3810-193 Aveiro</p>
            <p data-aos="fade-up">+351 234 370 200</p>
            <a data-aos="fade-up" href="ua.pt/pt/contactos-gerais" style="color: inherit; text-decoration: none;">Contactos Gerais</a>
        </div>
        <div class="col-md-4">
            <br>
            <h6 data-aos="fade-up">SIUUU Campus</h6>
            <p data-aos="fade-up">Parque Industrial e Empresarial da Figueira da Foz</p>
            <p data-aos="fade-up">3090-380 Figueira da Foz</p>
            <p data-aos="fade-up">+351 233 041 698</p>
            <p data-aos="fade-up">geral@SIUUUCampus.pt</p>

        </div>
        <div class="row mb-5 justify-content-center">
            <hr data-aos="fade-up">
            <div  class="col-md-3 d-flex justify-content-center" data-aos="fade-up">
                <img data-aos="fade-up" src="imagens/deti.jpg" style="height: 150px; width: auto;"/>
            </div>
            <div class="col-md-3 d-flex justify-content-center">
                <img data-aos="fade-up" src="imagens/Marca UA Complementar BRANCO.png" style="height: 150px; width: auto;"/>
            </div>
            <div class="col-md-3 d-flex justify-content-center">
                <img data-aos="fade-up" src="https://aauav.pt/wp-content/uploads/2023/01/LogoFooter.png" style="height: 200px; width: auto;"/>
            </div>
            <div class="col-md-3 d-flex justify-content-center">
                <img data-aos="fade-up" src="imagens/SIUUU.svg" style="height: 200px; width: auto;"/>
            </div>
        </div>
        <div class="row mb-5">
            <hr data-aos="fade-up">
            <p class="mb-0" data-aos="fade-up" style="color: white; text-align: left;">&copy; SIUUU Campus - Todos os direitos reservados.</p>
            <p class="mb-0" data-aos="fade-up" style="color: white; text-align: left;"> &trade; CorSano - Licenciado a Universidade de Aveiro</p>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<script src="assets/js/bs-init.js"></script>
<script src="assets/js/app.js"></script>
<script>
    AOS.init();
</script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        updateProgressBar();
        displayObjectives();
        displayUltimaAtividade();
        displayPeso();
        displayAltura();
        displayGorduraCorporal();
        displayProximaMarcação();
    });

    function displayProximaMarcação(){
        const proximaMarcação = document.getElementById('ProximaMarcação');
        const historico = JSON.parse(localStorage.getItem('historico')) || [];
        if (historico.length > 0) {
            proximaMarcação.innerText = historico[historico.length - 1];
        } else {
            proximaMarcação.innerText = 'Nenhuma atividade registada';
        }
    };


    function updateProgressBar() {
        const progressBar = document.getElementById('progressBar');
        const completedObjectives = new Set(JSON.parse(localStorage.getItem('completedObjectives')) || []);
        const fixedObjectiveCount = 5;
        const progress = (completedObjectives.size / fixedObjectiveCount) * 100;
        progressBar.style.width = progress + '%';
        progressBar.innerText = Math.round(progress) + '%';
    }
    
    function displayGorduraCorporal(){
        const gorduraCorporal = document.getElementById('gorduraCorporal');
        const historico = JSON.parse(localStorage.getItem('historico')) || [];
        if (historico.length > 0) {
            gorduraCorporal.innerText = historico[historico.length - 1];
        } else {
            gorduraCorporal.innerText = 'Nenhuma gordura corporal registada';
        }
    };
    function displayUltimaAtividade(){
        const ultimaAtividade = document.getElementById('ultimaAtividade');
        const historico = JSON.parse(localStorage.getItem('historico')) || [];
        if (historico.length > 0) {
            ultimaAtividade.innerText = historico[historico.length - 1];
        } else {
            ultimaAtividade.innerText = 'Nenhuma atividade registada';
        }
    };


    function displayPeso(){
        const ultimoPeso= document.getElementById('peso');
        const historico = JSON.parse(localStorage.getItem('medicoes-peso')) || [];
        if (historico.length > 0) {
            ultimaPeso.innerText = historico[historico.length - 1];
        } else {
            ultimoPeso.innerText = 'Nenhum peso registado';
        }
    };

    function displayAltura(){
        const ultimaAltura = document.getElementById('altura');
        const historico = JSON.parse(localStorage.getItem('medicoes-altura')) || [];
        if (historico.length > 0) {
            ultimaAltura.innerText = historico[historico.length - 1];
        } else {
            ultimaAltura.innerText = 'Nenhuma altura registada';
        }
    };

    function displayObjectives() {
        const objectivesList = document.getElementById('objectivesList');
        const objectives = JSON.parse(localStorage.getItem('objectives')) || [];
        objectivesList.innerHTML = objectives.map(obj => `<li>${obj}</li>`).join('');
    }
</script>
</body>
</html>